{% load static %}
<html>
    <head>
        <!-- Css -->
        <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
        <link rel="stylesheet" href="{% static 'css/bootstrap-table.min.css' %}">
        <link rel="stylesheet" href="{% static 'css/all.css' %}">

        <!-- Js -->
        <script src="{% static 'js/jquery.min.js' %}"></script>
        <script src="{% static 'js/popper.min.js' %}"></script>
        <script src="{% static 'js/bootstrap.min.js' %}"></script>
        <script src="{% static 'js/bootstrap-table.min.js' %}"></script>
        <script src="{% static 'js/bootstrap-table-zh-CN.min.js' %}"></script>

        <!-- Required tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>舆情数据分析</title>
    </head>

    <body>
        <nav class="navbar navbar-dark bg-dark">
            <a class="navbar-brand" href="/">首页</a>
        </nav>

        <div class="container" style="text-align:center">
            <h3 class="mt-5 mb-3">舆情数据分析</h3>
            <table id="table"></table>
        </div>

        <script>
            var columns = [
                {
                    field: 'name',
                    title: '产品名称',
                    align: 'center'
                }, {
                    field: 'total_num',
                    title: '评论总数',
                    align: 'center',
                    sortable: true,
                }, {
                    field: 'positive_num',
                    title: '正向评论数量',
                    align: 'center',
                    sortable: true
                }, {
                    field: 'positive_pct',
                    title: '正向评论比例',
                    align: 'center',
                    sortable: true
                }
            ];

            $('#table').bootstrapTable({
                search: true,
                showColumns: true,
                minimumCountColumns: 2,
                columns: columns,
                data: {{ data|safe }}
            })
        </script>
    </body>
</html>
